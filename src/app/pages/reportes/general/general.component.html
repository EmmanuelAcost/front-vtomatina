<app-navbar></app-navbar>
<div class="container">
  <h1 class="mt-2">Reporte General De Ventas</h1>
  <div class="row mt-3">
    <div class="col">
      <label class="w-100" for="">Fecha inicial</label>
      <p-calendar [(ngModel)]="dateStart" dateFormat="dd/mm/yy"></p-calendar>
    </div>
    <div class="col">
      <label class="w-100" for="">Fecha Final</label>
      <p-calendar [(ngModel)]="dateEnd" dateFormat="dd/mm/yy"></p-calendar>
    </div>
    <div class="col">
      <label class="w-100" for="">Bodega</label>

      <p-dropdown
        [options]="countries"
        [(ngModel)]="selectedCountry"
        optionLabel="name"
        [filter]="true"
        filterBy="name"
        [showClear]="true"
        placeholder="Select a Country"
      >
        <ng-template pTemplate="selectedItem">
          <div class="flex align-items-center gap-2" *ngIf="selectedCountry">
            <div>{{ selectedCountry?.name }}</div>
          </div>
        </ng-template>
        <ng-template let-country pTemplate="item">
          <div class="flex align-items-center gap-2">
            <div>{{ country.name }}</div>
          </div>
        </ng-template>
      </p-dropdown>
    </div>
    <div class="col">
      <label class="w-100" for="">â€Ž </label>
      <button class="h-100" (click)="search()">Buscar</button>
    </div>
  </div>

  <p-table [value]="products" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
      <tr>
        <th>Codigo</th>
        <th>Bodega</th>
        <th>Total</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td>{{ product.invoice_idstorage }}</td>
        <td>{{ product.store_name }}</td>
        <td>{{ product.total | currency : "USD" : "symbol" : "1.0-0" }}</td>
      </tr>
    </ng-template>
  </p-table>
  {{ total | currency : "USD" : "symbol" : "1.0-0" }}
</div>
